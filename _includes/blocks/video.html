{% assign block = include.block %}
<figure class="content-block content-block--video">
  <div class="video-embed video-embed--{{ block.provider | default: 'youtube' }}">
    {% if block.provider == 'vimeo' %}
      <iframe 
        src="https://player.vimeo.com/video/{{ block.video_id }}?dnt=1" 
        frameborder="0" 
        allow="autoplay; fullscreen; picture-in-picture" 
        allowfullscreen
        loading="lazy"
        title="{{ block.caption | default: 'Video' }}">
      </iframe>
    {% else %}
      <iframe 
        src="https://www.youtube-nocookie.com/embed/{{ block.video_id }}" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen
        loading="lazy"
        title="{{ block.caption | default: 'Video' }}">
      </iframe>
    {% endif %}
  </div>
  {% if block.caption %}
    <figcaption class="content-block__caption">{{ block.caption }}</figcaption>
  {% endif %}
</figure>
