<header class="site-header" role="banner">
  <div class="site-header__container">
    <a href="/" class="site-header__branding" aria-label="{{ site.title }} - Home">
      <img src="/assets/images/defaults/dust-wave-square.png" alt="" class="site-header__logo" aria-hidden="true">
      <span class="site-header__title">{{ site.title }}</span>
    </a>
    <div class="site-header__actions">
      <nav class="site-header__nav" id="mobile-nav" role="navigation" aria-label="Main navigation">
        <a href="/about/">What Is This?</a>
        <a href="/terms/">Terms</a>
      </nav>
      {% unless include.hide_cart %}
        {% include cart-icon.html %}
      {% endunless %}
      <button 
        class="site-header__menu-toggle" 
        id="menu-toggle" 
        aria-label="Open menu"
        aria-expanded="false"
        aria-controls="mobile-nav"
        type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" focusable="false">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
    <script>
      (function() {
        var toggle = document.getElementById('menu-toggle');
        var nav = document.getElementById('mobile-nav');
        if (toggle && nav) {
          toggle.addEventListener('click', function() {
            var isOpen = nav.classList.toggle('is-open');
            toggle.classList.toggle('is-open', isOpen);
            toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
            toggle.setAttribute('aria-label', isOpen ? 'Close menu' : 'Open menu');
          });
          nav.addEventListener('click', function(e) {
            if (e.target.tagName === 'A') {
              nav.classList.remove('is-open');
              toggle.classList.remove('is-open');
              toggle.setAttribute('aria-expanded', 'false');
              toggle.setAttribute('aria-label', 'Open menu');
            }
          });
          // Close menu on Escape key
          document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && nav.classList.contains('is-open')) {
              nav.classList.remove('is-open');
              toggle.classList.remove('is-open');
              toggle.setAttribute('aria-expanded', 'false');
              toggle.setAttribute('aria-label', 'Open menu');
              toggle.focus();
            }
          });
        }
      })();
    </script>
  </div>
</header>
